 

 

# ğŸ“˜ Prompt Engineering ç¬”è®°

## ğŸ“‘ ç›®å½•

* [1. æç¤ºåŸåˆ™ Guidelines](#1-æç¤ºåŸåˆ™-guidelines)

  * [1.1 æ¸…æ™°ã€å…·ä½“](#11-æ¸…æ™°å…·ä½“)
  * [1.2 ç»™æ¨¡å‹æ—¶é—´æ€è€ƒ](#12-ç»™æ¨¡å‹æ—¶é—´æ€è€ƒ)
  * [1.3 æ³¨æ„å±€é™](#13-æ³¨æ„å±€é™)
  * [1.4 è‹±æ–‡ Prompt æ›´ç¨³å®š](#14-è‹±æ–‡-prompt-æ›´ç¨³å®š)
* [2. è¿­ä»£ä¼˜åŒ– Iterative](#2-è¿­ä»£ä¼˜åŒ–-iterative)
* [3. å¸¸è§åº”ç”¨åœºæ™¯](#3-å¸¸è§åº”ç”¨åœºæ™¯)

  * [3.1 æ–‡æœ¬æ¦‚æ‹¬ Summarizing](#31-æ–‡æœ¬æ¦‚æ‹¬-summarizing)
  * [3.2 æ¨æ–­ Inferring](#32-æ¨æ–­-inferring)
  * [3.3 æ–‡æœ¬è½¬æ¢ Transforming](#33-æ–‡æœ¬è½¬æ¢-transforming)
  * [3.4 æ–‡æœ¬æ‰©å±• Expanding](#34-æ–‡æœ¬æ‰©å±•-expanding)
  * [3.5 èŠå¤©æœºå™¨äºº Chatbot](#35-èŠå¤©æœºå™¨äºº-chatbot)
* [4. Prompt æ¨¡æ¿](#4-prompt-æ¨¡æ¿)
* [5. LangChain ä¸­çš„ Prompt ç”¨æ³•](#5-langchain-ä¸­çš„-prompt-ç”¨æ³•)

  * [5.1 PromptTemplate](#51-prompttemplate)
  * [5.2 FewShotPromptTemplate](#52-fewshotprompttemplate)
  * [5.3 ChatPromptTemplate](#53-chatprompttemplate)
  * [5.4 MessagePromptTemplate](#54-messageprompttemplate)
  * [5.5 MessagesPlaceholder](#55-messagesplaceholder)
* [6. æ€»ç»“](#6-æ€»ç»“)

 
---

## 1. æç¤ºåŸåˆ™ Guidelines

### 1.1 æ¸…æ™°ã€å…·ä½“

* **æ˜ç¡®ç›®æ ‡**

  * âŒ æ¨¡ç³Šï¼š`å¸®æˆ‘å†™ä¸€ç¯‡æ–‡ç« `
  * âœ… æ¸…æ™°ï¼š`å†™ä¸€ç¯‡ 500 å­—çš„æ–‡ç« ï¼Œä¸»é¢˜æ˜¯äººå·¥æ™ºèƒ½åœ¨æ•™è‚²ä¸­çš„åº”ç”¨ï¼Œåˆ†ä¸ºå¼•è¨€ã€æ­£æ–‡ã€ç»“è®º`
* **åˆ†æ­¥éª¤è¯´æ˜**

  * âœ… ä¾‹ï¼š`å…ˆç”Ÿæˆæçº²ï¼Œå†å†™æ­£æ–‡ï¼Œæœ€åç»™å‡ºæ€»ç»“`

### 1.2 ç»™æ¨¡å‹æ—¶é—´æ€è€ƒ

* **é€æ­¥æ¨ç†ï¼ˆChain of Thoughtï¼‰**

  * âœ… ä¾‹ï¼š`è¯·ä¸€æ­¥ä¸€æ­¥æ¨ç†å¹¶è§£é‡Šç­”æ¡ˆï¼Œå†ç»™å‡ºæœ€ç»ˆç»“æœ`
* **è¦æ±‚å¤šç§ç­”æ¡ˆ**

  * âœ… ä¾‹ï¼š`è¯·æä¾›ä¸‰ç§è§£å†³æ–¹æ¡ˆï¼Œå¹¶è¯´æ˜ä¼˜ç¼ºç‚¹`

### 1.3 æ³¨æ„å±€é™

* å¯èƒ½å‡ºç° **å¹»è§‰ï¼ˆhallucinationï¼‰**
* é»˜è®¤æ— è”ç½‘èƒ½åŠ›
* åŸºäºæ¦‚ç‡ç”Ÿæˆè€ŒéçœŸæ­£ç†è§£
  ğŸ‘‰ **è§£å†³åŠæ³•**ï¼šå¤šè½®è¿­ä»£ã€éªŒè¯ç»“æœã€ç»“åˆå¤–éƒ¨å·¥å…·

### 1.4 è‹±æ–‡ Prompt æ›´ç¨³å®š

* å­¦æœ¯/ç§‘ç ”/ç¼–ç¨‹å»ºè®®ç”¨è‹±æ–‡
* å¯å…ˆå†™ä¸­æ–‡éœ€æ±‚ï¼Œå†ç¿»è¯‘æˆè‹±æ–‡æç¤º

---

## 2. è¿­ä»£ä¼˜åŒ– Iterative

Prompt è®¾è®¡æ˜¯ä¸€ä¸ª **è¿­ä»£è¿‡ç¨‹**ï¼š

1. å†™åˆç‰ˆ Prompt
2. æŸ¥çœ‹è¾“å‡º
3. å¢åŠ ç»†èŠ‚æˆ–é™åˆ¶
4. å¾ªç¯æ”¹è¿›

âœ… æŠ€å·§ï¼š

* **è‡ªæˆ‘åæ€**ï¼š`è¯·æ£€æŸ¥å¹¶æ”¹è¿›ä½ ä¸Šä¸€ä¸ªå›ç­”`
* **è§’è‰²æ‰®æ¼”**ï¼š`ä½ æ˜¯ä¸€ä½å¾‹å¸ˆï¼Œè¯·èµ·è‰ä¸€ä»½åˆåŒè‰æ¡ˆ`

---

## 3. å¸¸è§åº”ç”¨åœºæ™¯

### 3.1 æ–‡æœ¬æ¦‚æ‹¬ Summarizing

* é•¿æ–‡å‹ç¼©ï¼š`å°†ä»¥ä¸‹æ–‡ç« å‹ç¼©æˆ 200 å­—æ‘˜è¦`
* å±‚çº§æ€»ç»“ï¼šä¸€å¥è¯ â†’ ä¸‰å¥è¯ â†’ è¯¦ç»†æ‘˜è¦
* é’ˆå¯¹æ€§æ€»ç»“ï¼šåªæ€»ç»“æ ¸å¿ƒè®ºç‚¹å’Œç ”ç©¶ç»“è®º

### 3.2 æ¨æ–­ Inferring

* æƒ…ç»ªåˆ†ç±»ï¼š`åˆ¤æ–­è¯„è®ºæƒ…ç»ªï¼ˆç§¯æ/æ¶ˆæ/ä¸­ç«‹ï¼‰`
* æ„å›¾æ¨æµ‹ï¼š`åˆ†æé‚®ä»¶æ½œåœ¨æ„å›¾å¹¶æ¨æµ‹ä¸‹ä¸€æ­¥è¡ŒåŠ¨`

### 3.3 æ–‡æœ¬è½¬æ¢ Transforming

* æ ¼å¼è½¬æ¢ï¼š`è½¬ä¸º JSON`ã€`Python â†’ Java`
* é£æ ¼è½¬æ¢ï¼š`æ”¹å†™æˆå­¦æœ¯é£æ ¼`ã€`é€‚åˆ 10 å²å°æœ‹å‹ç†è§£`

### 3.4 æ–‡æœ¬æ‰©å±• Expanding

* æ‰©å†™ï¼š`å°†çŸ­æ–‡æ‰©å±•åˆ° 500 å­—`
* æ”¹å†™ï¼š`ç”Ÿæˆä¸‰ä¸ªä¸åŒç‰ˆæœ¬çš„å¼€åœºç™½`
* åˆ›æ„å»¶ä¼¸ï¼š`åŸºäºå¤§çº²ç”Ÿæˆä¸‰ç§ç»“å±€`

### 3.5 èŠå¤©æœºå™¨äºº Chatbot

* è®¾å®šèº«ä»½ï¼š`ä½ æ˜¯ä¸€åå†å²è€å¸ˆ`
* åœºæ™¯åŒ–å¯¹è¯ï¼š`æ¨¡æ‹Ÿé¢è¯•å®˜ï¼Œæ 5 ä¸ªé—®é¢˜`
* è¿ç»­è®°å¿†ï¼šä¿æŒä¸€è‡´äººè®¾ä¸é£æ ¼

---

## 4. Prompt æ¨¡æ¿

```text
è§’è‰²è®¾å®šï¼šä½ ç°åœ¨æ‰®æ¼”ä¸€ä½ [è§’è‰²èº«ä»½]ï¼Œå…·å¤‡ [é¢†åŸŸ/é£æ ¼] çŸ¥è¯†ä¸è¡¨è¾¾æ–¹å¼ã€‚  
ç¯å¢ƒèƒŒæ™¯ï¼šä»»åŠ¡å‘ç”Ÿåœ¨ [åœºæ™¯/åº”ç”¨èƒŒæ™¯]ï¼Œéœ€è¦è€ƒè™‘ [é™åˆ¶æ¡ä»¶]ã€‚  
ä»»åŠ¡è¯´æ˜ï¼š
  - [ä»»åŠ¡ç›®æ ‡]
  - [æ“ä½œè¦æ±‚]
  - [çº¦æŸæ¡ä»¶]  
è¾“å…¥æ•°æ®ï¼šä»¥ä¸‹æ˜¯ç”¨æˆ·æä¾›çš„æ–‡æœ¬/é—®é¢˜ï¼š...  
è¾“å‡ºè¦æ±‚ï¼š
  - è¾“å‡ºè¯­è¨€ï¼š[ä¸­æ–‡/è‹±æ–‡/åŒè¯­]  
  - è¾“å‡ºé£æ ¼ï¼š[æ­£å¼ / å£è¯­åŒ– / ç®€æ´ / è¯¦ç»†]  
  - è¾“å‡ºæ ¼å¼ï¼š[Markdown / JSON / è¡¨æ ¼]  
  - ç‰¹æ®Šè¦æ±‚ï¼š[å­—æ•°é™åˆ¶ / åŒ…å«ä»£ç  / åˆ†æ­¥éª¤æ¨ç†]  
ç¤ºä¾‹ï¼ˆå¯é€‰ï¼‰ï¼š  
  - è¾“å…¥ï¼š...  
  - è¾“å‡ºï¼š...  
```

---

## 5. LangChain ä¸­çš„ Prompt ç”¨æ³•

### 5.1 PromptTemplateï¼ˆå•è½®æ¨¡æ¿ï¼‰

```python
from langchain.prompts import PromptTemplate
prompt = PromptTemplate.from_template("ç–¾ç—…: {disease}, ç—‡çŠ¶: {symptom}, è¯ç‰©: {medicine}")
print(prompt.format(disease="ç³–å°¿ç—…", symptom="å°¿è¡€", medicine="æ ¼åˆ—ç¾è„²"))
```

### 5.2 FewShotPromptTemplateï¼ˆç¤ºä¾‹æç¤ºï¼‰

```python
examples = [{"word": "cat", "translation": "çŒ«"}]
example_prompt = PromptTemplate.from_template("è‹±æ–‡: {word} -> ä¸­æ–‡: {translation}")
```

### 5.3 ChatPromptTemplateï¼ˆå¤šè½®å¯¹è¯ï¼‰

```python
from langchain.prompts import ChatPromptTemplate
chat_prompt = ChatPromptTemplate.from_messages([
    ("system", "ä½ æ˜¯åŒ»å­¦åŠ©æ‰‹ã€‚"),
    ("human", "ç—…äººæ‚£æœ‰{disease}ï¼Œå‡ºç°{symptom}ï¼Œå¦‚ä½•æ²»ç–—ï¼Ÿ")
])
```

### 5.4 MessagePromptTemplateï¼ˆç²¾ç»†åŒ–æ§åˆ¶ï¼‰

```python
from langchain.prompts.chat import SystemMessagePromptTemplate, HumanMessagePromptTemplate
```

### 5.5 MessagesPlaceholderï¼ˆå¯¹è¯å†å²ï¼‰

```python
from langchain.prompts import MessagesPlaceholder

chat_with_memory = ChatPromptTemplate.from_messages([
    ("system", "ä½ æ˜¯ä¸€ä¸ªåŠ©æ‰‹ã€‚"),
    MessagesPlaceholder(variable_name="history"),
    ("human", "ç»§ç»­å›ç­”: {question}")
])
```

---

## 6. æ€»ç»“

* **Prompt å·¥ç¨‹æœ¬è´¨**ï¼šæŠŠéœ€æ±‚ â†’ æ¸…æ™°æŒ‡ä»¤
* **æ ¸å¿ƒæŠ€å·§**ï¼šæ¸…æ™°ç›®æ ‡ã€ç»“æ„åŒ–ã€è¿­ä»£ä¼˜åŒ–
* **åº”ç”¨åœºæ™¯**ï¼šæ¦‚æ‹¬ã€æ¨æ–­ã€è½¬æ¢ã€æ‰©å±•ã€å¯¹è¯
* **åœ¨ LangChain ä¸­**ï¼šå¯ç”¨æ¨¡æ¿ã€ç¤ºä¾‹ã€å¯¹è¯å†å²ç­‰æ–¹å¼ç®¡ç† Prompt

ğŸ‘‰ Prompt = **å†™ç»™ AI çš„ç¼–ç¨‹è¯­è¨€**
ğŸ‘‰ ä¼˜ç§€ Prompt = **å¥½ç”¨çš„æ¥å£è®¾è®¡**

---
 